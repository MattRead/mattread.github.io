<!DOCTYPE html>
<html lang="en-ca">


<!-- Mirrored from mattread.com/hconsole-a-live-habari-debugging-console by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 06 Feb 2020 17:19:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<title>hConsole: A Live Habari Console - Matt Read, Weblog</title>
	<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
	<meta name="generator" content="Habari 0.10-alpha">
	<meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0">

	<script>
		var HABARI_URL = "index.html";
		var CONQUISTADOR_URL = "user/themes/conquistador/index.html";
		var CONQUISTADOR_USE_FANCYBOX = true;
	</script>
	<meta name="verify-v1" content="xSimSi8n9M7MqFEaRhgNt3smByGje0Iki3S45666/jQ=">
<link rel="license" title="license" href="http://creativecommons.org/licenses/by-sa/2.5/ca/">
<link rel="icon" href="favicon.ico" type="image/x-icon">
<link rel="Shortcut Icon" href="favicon.ico">
<link rel="copyright" href="copyright.html">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-887070-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-887070-1');
</script>
<link rel="prev" href="garden-2013.html"><link rel="next" href="new-gpg-key.html"><link rel="home" href="index.html">
<meta name="keywords" content="habari, code">
<meta name="description" content="If you have ever written code before, you've come across a situation where you needed to debug or test something simple in your code. Doing this with a Command Line Interpreter is quite simple. Typ…" >
<meta name="robots" content="index, follow" >
<link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="hconsole-a-live-habari-debugging-console/atom"><link rel="service" type="application/atomsvc+xml" title="Atom Publishing Protocol" href="atom"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="rsd">
<link type="text/css" media="screen" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Halant%3A300,400,600%7CSource+Sans+Pro%3A400%7CSource+Code+Pro%3A400,600%7CLondrina+Sketch%7CLobster%7CPT+Serif%7CRock+Salt">
<link type="text/css" media="screen" rel="stylesheet" href="user/themes/conquistador/css/screen-min.css">

<!--[if lt IE 9]><script  src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
<![endif]--></head>
<body class="display_entry entry-683" itemscope itemtype="http://schema.org/Blog">
<div class="wrap">
	<p itemprop="name" class="mast">
		<a itemprop="url" href="index.html">
			Matt Read, Weblog		</a>
		<meta itemprop="description" content="It says little, does less, means  nothing.">
	</p>

	<nav class="site" id="top">
		<label for="show-menu" class="show-menu"><span class="icon-menu"></span>Show Menu</label>
		<input type="checkbox" id="show-menu">
		<ol ><li class="inactive" id="main-menu_279"><a href="archives.html">Archives</a></li>
<li class="inactive" id="main-menu_254"><a href="examples.html">Examples</a></li>
<li class="inactive" id="main-menu_243"><a href="about.html">About</a></li>
<li class="inactive" id="main-menu_292"><a href="https://keybase.io/mattread/key.asc">GPG</a></li>
</ol><form method="get" id="searchform" action="https://mattread.com/search"><p><input type="text" id="s" name="criteria" value=""><input type="submit" id="searchsubmit" value="Search"></p></form>	</nav>
	<div style="clear:both"></div>
	<div itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<header id="post-683" class="post post-683 type-entry status-published tag-habari tag-code">
		<h1 itemprop="name">hConsole: A Live Habari Console</h1>
		<meta content="https://mattread.com/hconsole-a-live-habari-debugging-console" itemprop="url">
		<meta itemprop="interactionCount" content="UserComments:0">
		<p>
			<meta itemprop="dateModified" content="2014-10-07T20:20:34-04:00">
<time itemprop="datePublished" datetime="2013-10-02T14:54:06-04:00">
	Published October 2<sup>nd</sup>, 2013</time>

		</p>

		<p>&#x2766;</p>
	</header>
	<div itemprop="articleBody">
		<p>If you have ever written code before, you&#8217;ve come across a situation where you needed to debug or test something simple in your code. Doing this with a Command Line Interpreter is quite simple. Type your code, see what comes out. But when it comes to web applications, it&#8217;s a little harder. There are <abbr title="HyperText Transfer Protocol">HTTP</abbr> requests, Sessions, Cookies, and a Webserver involved. This is where <a href="https://github.com/habari-extras/hconsole" title="hConsole github repo">hConsole</a> comes in.</p>

<p>hConsole is a live <a href="https://habariproject.org/en/" title="Habari Project's main site">Habari</a> console, or command line, that allows you to evaluate your code directly in your Habari installation, with all the <abbr title="HyperText Transfer Protocol">HTTP</abbr> request, Sessions, etc. there. You can access the entire Habari core, even trigger plugin actions and filters, and view the live result on screen.</p>

<p>Once installed, you simply click on the hConsole button in the bottom right of your screen to bring up the console. In the console you can evaluate any <abbr title="PHP: Hypertext Preprocessor">PHP</abbr> code and utilize the entire Habari base. You can also execute <abbr title="Structured Query Language">SQL</abbr>, to query your Habari&#8217;s database directly (Tip: press <kbd>ctrl</kbd>+<kbd>Q</kbd> to run code without the mouse).</p>

<div><figure>
<a href="../farm9.staticflickr.com/8099/8590516105_9d9462457c_b.jpg" class="fancybox"><img alt="hconsole_php" src="../farm9.static.flickr.com/8099/8590516105_9d9462457c.jpg" class="card center"></a> 
<figcaption><b>Figure 1</b> Using the debug area to output code.</figcaption>
</figure></div>

<h3>Debugging <abbr title="PHP: Hypertext Preprocessor">PHP</abbr> and Habari</h3>

<p>hConsole has 2 parts; A debug section, for outputting variables and such (<code>Utils::debug()</code> comes in handy here), and the ability to trigger plugin hooks and affect the output of, say, post titles. There is also an option to <code>htmlspecialchars()</code> the output of the debugging code if you wanted to output <abbr title="Hyper Text Markup Language">HTML</abbr> tags, for example. Let&#8217;s look at two basic examples:</p>

<div><figure>
<pre class="php geshicode" style="font-family:monospace;"><span style="color: #000088;">$test</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;this is a test&quot;</span><span style="color: #339933;">;</span>
<span style="color: #b1b100;">echo</span> <span style="color: #000088;">$test</span><span style="color: #339933;">;</span></pre>
<figcaption><b>Example 1</b> A simple Debug echo</figcaption>
</figure></div>

<p>The code in example 1 will simply echo the variable <code>$test</code> above the command line in hConsole; The so called &#8220;Debug Area&#8221;. We can also implement plugin hooks.</p>

<div><figure>
<pre class="php geshicode" style="font-family:monospace;">filter_post_title_out <span style="color: #009900;">&#123;</span>
    <span style="color: #000000; font-weight: bold;">function</span> boo <span style="color: #009900;">&#40;</span><span style="color: #000088;">$title</span><span style="color: #009900;">&#41;</span>
    <span style="color: #009900;">&#123;</span>
        <span style="color: #b1b100;">return</span> <span style="color: #000088;">$title</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' Boo!'</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre>
<figcaption><b>Example 2</b> Filtering Post Titles</figcaption>
</figure></div>

<p>The code in example 2 will register the function <code>boo()</code> to the <code>post_title_out</code> filter. Function <code>boo()</code> then appends <code>" Boo!"</code> to all post titles for the page you are looking at. We can also combine the two and have debug output along will running filters or actions.</p>

<p>Of course these are very simple examples of what can be done with hConsole. In the real world it becomes a very powerful tool.</p>

<h3>Debugging With hConsole</h3>

<p>Let&#8217;s look at an example of a real debugging situation where hConsole came in handy. When trying to debug Habari&#8217;s internal Cron system it&#8217;s hard to tell why it&#8217;s failing when <abbr title="PHP: Hypertext Preprocessor">PHP</abbr> is set to use <abbr title="Client URLs">CURL</abbr>. Recently <a href="http://skippy.net/" title="Scott's website">Scott</a> was having an issue with a local install, where crons weren&#8217;t running.</p>

<p>The issue comes from the fact that Habari makes an asynchronous <abbr title="HyperText Transfer Protocol">HTTP</abbr> call to itself to trigger all the Cronjobs to run. So you never actually see any errors from this, and when <abbr title="Client URLs">CURL</abbr> throws an exception, nothing is in the logs. So to test why Scott&#8217;s crons where not running he used hConsole.</p>

<div><figure>
<pre class="php geshicode" style="font-family:monospace;"><span style="color: #000088;">$cronurl</span> <span style="color: #339933;">=</span> URL<span style="color: #339933;">::</span><span style="color: #004000;">get</span><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'cron'</span><span style="color: #339933;">,</span><a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'asyncronous'</span> <span style="color: #339933;">=&gt;</span> Utils<span style="color: #339933;">::</span><a href="http://www.php.net/crypt"><span style="color: #990000;">crypt</span></a><span style="color: #009900;">&#40;</span> Options<span style="color: #339933;">::</span><span style="color: #004000;">get</span><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'public-GUID'</span> <span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$request</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> RemoteRequest<span style="color: #009900;">&#40;</span> <span style="color: #000088;">$cronurl</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'GET'</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">100</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$request</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">execute</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
<figcaption><b>Example 3</b> Making a request to the cron.</figcaption>
</figure></div>

<p>In example 3 we run the cron trigger using hConsole with a longer timeout so we can see what is happening. And Scott was able to get the error <code>Exception: CURL Error 60: SSL certificate problem, verify that the CA ...</code>. He was then able to add his  <abbr title="Secure Socket layer">SSL</abbr> certificate chain to his Apache config so <abbr title="Client URLs">CURL</abbr> accepted the certificate, and crons ran smoothly.</p>

<h3>Debugging <abbr title="Structured Query Language">SQL</abbr></h3>

<p>hConsole will also let you directly run <abbr title="Structured Query Language">SQL</abbr> statements on your database. It will even substitute proper table names when using &#8220;curly brackets&#8221;, like <code>{posts}</code> becomes <code>habari__posts</code>, or whatever you chose during install. You can run any database query by simply checking the <abbr title="Structured Query Language">SQL</abbr> checkbox, and the results will output in a nicely formatted table.</p>

<div><figure>
<pre class="sql geshicode" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #66cc66;">*</span> <span style="color: #993333; font-weight: bold;">FROM</span> <span style="color: #66cc66;">&#123;</span>posts<span style="color: #66cc66;">&#125;</span> <span style="color: #993333; font-weight: bold;">LIMIT</span> <span style="color: #cc66cc;">3</span>;</pre>
<figcaption><b>Example 4</b> SQL selecting the 3 most recent posts.</figcaption>
</figure></div>

<p>And the results from running example 4 show in a nice tabular format so we can easily see what&#8217;s in our database.</p>

<div><figure>
<a href="../farm9.static.flickr.com/8506/8591609336_bf476f433f_b.jpg" class="fancybox"><img alt="hconsole_sql" src="../farm9.static.flickr.com/8506/8591609336_bf476f433f.jpg" class="center card"></a>
<figcaption><b>Figure 2</b> Results of selecting the 3 most recent posts.</figcaption>
</figure></div>

<p>You can also, of course, run other statements, such as delete, update, show tables, etc. All statements will output their results, or show an error if there are troubles.</p>

<h2>Developer&#8217;s Best Friend</h2>

<p>As you can see hConsole is the plugin and theme developers best friend. Whether you are debugging a core Habari issue, or simply looking at the contents of an object. You can pretty much debug and test any code you need to; <abbr title="PHP: Hypertext Preprocessor">PHP</abbr>, <abbr title="Structured Query Language">SQL</abbr>, and Habari.</p>

<ul class="download">
<li><a href="https://github.com/habari-extras/hconsole/archive/master.zip">hConsole Master <i class="icon-box-add"></i></a></li>
<li><a href="https://github.com/habari-extras/hconsole">GitHub Repo <i class="icon-github"></i></a> </li>
</ul>
	</div>

	<div class="bar">
	<p class="meta">hConsole: A Live Habari Console was written by
	<span itemprop="author" itemscope itemtype="http://schema.org/Person">
	    <span itemprop="name">
	    	            <a href="author/matt-read.html">Matt Read</a>.
	    	    </span>
		<img itemprop="image"
			alt="Gravatar for Matt Read"
			src="http://www.gravatar.com/avatar/82e8f5f668f2c451184763dc57bc8868?d=mm&amp;s=60&amp;r=g"
			class="gravatar">
		Matt is the owner of this site and primary author. He also <a href="https://twitter.com/MattRead">tweets</a>, posts <a href="http://www.flickr.com/photos/MattRead">photos</a>, stars in <a href="https://vimeo.com/mattrread">videos</a>, listens to <a href="http://www.last.fm/user/MattRead">music</a>, makes <a href="https://github.com/MattRead">software</a>, develops <a href="https://habariproject.org/en/">Habari</a>, and creates <a href="http://drunkenmonkey.org/">websites</a>.
	</span>
</p>

	<nav>
		<p class="meta">
			Tags: <span itemprop="keywords"><a href="tag/habari.html" rel="tag">habari</a> and <a href="tag/code.html" rel="tag">code</a></span>
		</p>
	</nav>
<nav class="posts">
	<p class="meta">
					<a href="new-gpg-key.html"
			   title="New PGP/GnuPG Key"><i class="icon-arrow-left2"></i> Next Post</a> &nbsp;|&nbsp;
							<a href="garden-2013.html"
			   title="The Garden, 2013">Previous Post <i
					class="icon-arrow-right2"></i></a>
			</p>
</nav>
</div>
	

	<section id="respond" class="comments-form">
		<h3>Leave a Comment</h3>
					<p class="meta">Before leaving a comment, please ensure you have read and understand my <a href="comments-policy.html">comments policy</a> and my <a href="privacy.html">privacy policy</a>. Any comment that does not abide by the comment policy will be deleted immediately.</p>
		
		<form  class="formui public commentform" id="comment-public" action="https://mattread.com/683/feedback" enctype="application/x-www-form-urlencoded" accept-charset="UTF-8" method="POST">
<input type="hidden" name="FormUI" value="35174af0625359469a640cdccf4e29e2">
<script type="text/javascript">if(controls==undefined){var controls = {init:function(fn){if(fn!=undefined){controls.inits.push(fn);}else{for(var i in controls.inits){controls.inits[i]();}}},inits:[]};}</script><script type="text/javascript">window.setTimeout(function(){controls.init();}, 500);</script><div class="formcontrol" id="cf_commenter">
	<label  for="comment_name">Name <span class="required">*Required</span></label>
	<input  tabindex="1" type="text" id="comment_name" name="comment_name" value="">
			</div>
<div class="formcontrol" id="cf_email">
	<label  for="comment_email">Email <span class="required">*Required</span></label>
	<input  tabindex="2" type="email" id="comment_email" name="comment_email" value="">
			</div>
<div class="formcontrol" id="cf_url">
	<label  for="comment_url">Website</label>
	<input  tabindex="3" type="url" id="comment_url" name="comment_url" value="">
			</div>
<div class="formcontrol" id="cf_content">
	<label  for="comment_content">Comment <span class="required">*Required</span></label>
	<textarea  tabindex="4" id="comment_content" name="comment_content" rows="10" cols="100"></textarea>
			</div>
<div class="markdown-cheat meta" style="float:right;">Supports <a href="#" onclick="window.open('user/plugins/habarimarkdown/markdown.html', 'markdown', 'width=350,height=500,left=0,location=no,menubar=no,status=no,titlebar=no,toolbar=no,directories=no,scrollbars=yes');return false;">Markdown Syntax</a></div><div class="formcontrol" id="cf_submit">
	<input type="submit"  tabindex="5" id="ce0d8b4d" name="ce0d8b4d" value="Submit">
	</div>
</form>
	</section>

</div>
	<section>
		<h2>Related Posts</h2>
			<ul class="posts" id="post-list">
		<li id="post-8" class="post post-8 type-entry status-published tag-habari tag-design tag-uri" itemprop="blogPost" itemscope
    itemtype="http://schema.org/BlogPosting">
	<meta itemprop="dateModified" content="2013-03-08T22:58:19-05:00">
<time itemprop="datePublished" datetime="2007-04-01T05:12:28-04:00">
	01 Apr 2007</time>

	<span itemprop="name">
		
	<i class="icon-blog" title="Type: Entry"></i>
		<a href="thinking-about-uri-s.html" itemprop="url"
							title="Entry: Thinking About URI&#8217;s">
			Thinking About URI&#8217;s</a>
	</span>
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
	<meta itemprop="name" content="Matt Read">
</span>
</li>
<li id="post-492" class="post post-492 type-entry status-published tag-habari tag-plugin tag-jambo tag-tabasamu tag-markdown" itemprop="blogPost" itemscope
    itemtype="http://schema.org/BlogPosting">
	<meta itemprop="dateModified" content="2013-03-08T22:58:13-05:00">
<time itemprop="datePublished" datetime="2008-03-23T12:58:55-04:00">
	23 Mar 2008</time>

	<span itemprop="name">
		
	<i class="icon-blog" title="Type: Entry"></i>
		<a href="jambo-on-habari-extras.html" itemprop="url"
							title="Entry: Jambo On Habari-Extras">
			Jambo On Habari-Extras</a>
	</span>
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
	<meta itemprop="name" content="Matt Read">
</span>
</li>
<li id="post-662" class="post post-662 type-entry status-published tag-code tag-epiphany tag-tomboy" itemprop="blogPost" itemscope
    itemtype="http://schema.org/BlogPosting">
	<meta itemprop="dateModified" content="2013-04-24T09:08:09-04:00">
<time itemprop="datePublished" datetime="2010-09-10T21:36:02-04:00">
	10 Sep 2010</time>

	<span itemprop="name">
		
	<i class="icon-blog" title="Type: Entry"></i>
		<a href="ephyboy-the-epiphany-tomboy-extension-1.html" itemprop="url"
							title="Entry: Ephyboy, The Epiphany Tomboy Extension">
			Ephyboy, The Epiphany Tomboy Extension</a>
	</span>
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
	<meta itemprop="name" content="Matt Read">
</span>
</li>
<li id="post-497" class="post post-497 type-entry status-published tag-code tag-php tag-javascript tag-prototype" itemprop="blogPost" itemscope
    itemtype="http://schema.org/BlogPosting">
	<meta itemprop="dateModified" content="2013-04-20T12:43:28-04:00">
<time itemprop="datePublished" datetime="2008-09-29T02:01:57-04:00">
	29 Sep 2008</time>

	<span itemprop="name">
		
	<i class="icon-blog" title="Type: Entry"></i>
		<a href="javascript-prototype-behaviour-in-php.html" itemprop="url"
							title="Entry: Javascript Prototype Behaviour in PHP">
			Javascript Prototype Behaviour in PHP</a>
	</span>
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
	<meta itemprop="name" content="Matt Read">
</span>
</li>
<li id="post-463" class="post post-463 type-entry status-published tag-habari tag-wordpress" itemprop="blogPost" itemscope
    itemtype="http://schema.org/BlogPosting">
	<meta itemprop="dateModified" content="2013-03-08T22:58:19-05:00">
<time itemprop="datePublished" datetime="2007-04-09T05:31:44-04:00">
	09 Apr 2007</time>

	<span itemprop="name">
		
	<i class="icon-blog" title="Type: Entry"></i>
		<a href="the-times-they-are-a-changin.html" itemprop="url"
							title="Entry: The Times, They Are A Changin">
			The Times, They Are A Changin</a>
	</span>
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
	<meta itemprop="name" content="Matt Read">
</span>
</li>
	</ul>

	</section>

<footer>
	<div id="totop"></div>
	<div>
	Copyright &copy; 2003 Matt Read</div>
<div class="social">
	<a href="atom/1" title="RSS Feed" class="feed"><i
			class="icon-feed3"></i><b>RSS Feed</b></a>
			<a href="https://twitter.com/MattRead" title="Twitter" class="twitter">
			<i class="icon-twitter2"></i><b>twitter</b></a>
			<a href="http://www.last.fm/user/MattRead" title="Last.fm" class="lastfm">
			<i class="icon-lastfm2"></i><b>lastfm</b></a>
			<a href="http://www.flickr.com/photos/MattRead" title="Flickr" class="flickr">
			<i class="icon-flickr3"></i><b>flickr</b></a>
			<a href="https://vimeo.com/mattrread" title="Vimeo" class="vimeo">
			<i class="icon-vimeo2"></i><b>vimeo</b></a>
			<a href="https://plus.google.com/108587268856593448663/posts" title="Google+" class="googleplus">
			<i class="icon-googleplus2"></i><b>googleplus</b></a>
			<a href="https://github.com/MattRead" title="Github" class="github">
			<i class="icon-github5"></i><b>github</b></a>
	</div>

	<script  src="../ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script  src="user/themes/conquistador/js/site-min.js"></script>
</footer>
</div></body>

<!-- Mirrored from mattread.com/hconsole-a-live-habari-debugging-console by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 06 Feb 2020 17:20:01 GMT -->
</html>
